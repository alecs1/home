/*! ft-popular-articles 2.0.0 17-06-2014 */
var ftMicro=ftMicro||function(){"use strict";function a(a,b){var c=a.document,d=!1,e=function(){d||(d=!0,b())},f=function(){try{c.documentElement.doScroll("left")}catch(a){return void setTimeout(f,50)}e()};f(),c.onreadystatechange=function(){"complete"===c.readyState&&(c.onreadystatechange=null,e())}}function b(a){window.console&&console.log&&console.log(a)}function c(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}function d(a){a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}function e(a,b){var c;a.className&&(c=a.className,c.length>0&&(b=" "+b),a.className=c+b)}function f(a,b){var c,d,e;if(c=a.className,c.length>0){for(d=c.split(" "),e=d.length-1;e>=0;e--)d[e]===b&&d.splice(e,1);a.className=d.join(" ")}}function g(){var a,b,c;return c=-1,"Microsoft Internet Explorer"===navigator.appName&&(a=navigator.userAgent,b=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==b.exec(a)&&(c=parseFloat(RegExp.$1))),c}function h(){var a=!1;return window.navigator.userAgent.indexOf("iPad")>-1&&(a=!0),h}function i(a,b){var c,d=!1;if(a&&b)for(c=0;c<b.length;c++)if(a===b[c]){d=!0;break}return d}function j(a){var b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src=a;var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}function k(a,b){var c=document.getElementById(a);null!==c&&b(c)}return{getScript:j,isInArray:i,isIpad:h,getInternetExplorerVersion:g,log:b,iEContentLoaded:a,addEvent:c,preventDefault:d,addClass:e,removeClass:f,modifyElementById:k}}(),topArticles=topArticles||{};topArticles.config={mostPopular:"http://mostpopular.sp.ft-static.com/v1/mostPopular?callback=topArticles.render.buildUi&source=mostPopularUiWidget",getMostPopular:function(){"use strict";return this.mostPopular}};var topArticles=topArticles||{};topArticles.data=function(){"use strict";function a(){var a=topArticles.config.getMostPopular();ftMicro.getScript(a)}var b,c="",d="",e="",f=[];return{getData:a,mostCommented:c,popularVideos:e,mostRead:d,tabList:f,rawData:b}}(),topArticles.events=function(){"use strict";function a(){ftMicro.modifyElementById("popularContent_tabs",function(a){ftMicro.addEvent(a,"click",function(a){var c="";c=a.srcElement?a.srcElement.id:a.target.id,""!==c&&"A"===document.getElementById(c).tagName&&(b(c),ftMicro.preventDefault(a))})})}function b(a){var b=topArticles;b.render.renderList(b.data[a]);var d=document.getElementById(a).parentNode;c(b.data.tabList),ftMicro.addClass(d,"comp-state-selected")}function c(a){var b,c;for(c=0;c<a.length;c++)b=document.getElementById(a[c]).parentNode,ftMicro.removeClass(b,"comp-state-selected")}return{bindTabs:a}}(),topArticles.render=function(){"use strict";function a(a){e.data.rawData=a,e.utility.handleDomReadyAbility(function(){d(a),e.events.bindTabs();for(var c in a)a[c].isValid&&a[c].isValid===!0&&(b(a[c]),e.data.tabList.push(a[c].type))},"")}function b(a){var b,d,f,g=a.pages,h=a.type,i="";for(d='data-track-comp-view="'+h+'"',i+='<ol class="railLinks" data-track-comp-name="popularContent" '+d+">",b=0;b<g.length;b++)f=g[b],i+='<li data-pos="'+(b+1)+'">',i+='<a href="'+f.url+'">'+f.title+"</a> ",i+="</li>";i+="</ol>",e.data[a.type]=i,a.defaultContent===!0&&c(i)}function c(a){ftMicro.modifyElementById("topArticles",function(b){b.innerHTML=a})}function d(a){ftMicro.modifyElementById("popularContent",function(b){var c,d,e,f="",g="POPULAR ARTICLES",h=0;a.componentTitle&&(g=a.componentTitle),c=['<div class="comp-header">','<h3 class="comp-header-title">'+g+"</h3>",'<ul class="comp-header-tabs" id="popularContent_tabs">'];for(e in a)a[e].label&&(f+='<li class="comp-header-tab',a[e].defaultContent===!0&&(f+=" comp-state-selected first"),f+='"><a id="'+e+'" href="#">'+a[e].label+"</a></li>",h++);d=["</ul>","</div>",'<div class="comp-body" id="topArticles">',"</div>"],h>0&&(b.innerHTML=c.join(" ")+f+d.join(" "))})}var e=topArticles;return{renderList:c,buildUi:a,renderFrame:d}}(),topArticles.css=function(){"use strict";function a(a){return c[a].join("")}function b(b){var c=document.createElement("style"),d=a(b),e=document.getElementsByTagName("head")[0];c.setAttribute("type","text/css"),c.styleSheet?c.styleSheet.cssText=d:c.textContent=d,e.appendChild(c)}var c={allBrowsers:["#topArticles {","	padding:15px 10px 0;","	margin-bottom: 30px;","}"]};return{getStyles:a,insertStyles:b}}(),topArticles.utility=function(){"use strict";function a(a,b){var c=ftMicro.getInternetExplorerVersion();7>=c&&c>-1?ftMicro.iEContentLoaded(window,function(){a(b)}):a(b)}return{handleDomReadyAbility:a}}(),topArticles.init=function(){"use strict";var a=topArticles;a.css.insertStyles("allBrowsers"),a.data.getData()},topArticles.init();